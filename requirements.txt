# Web API
fastapi>=0.111,<0.112
uvicorn[standard]>=0.30,<0.31
python-multipart>=0.0.9,<0.0.10
requests>=2.31,<3

# Imaging & numerics
pillow>=10.3,<11
numpy==1.26.4            # safe with TF 2.15 & sklearn wheels

# ML runtimes (avoid source builds)
scikit-learn==1.3.2      # has manylinux wheels for py311
joblib>=1.3,<1.4

# TensorFlow (CPU on Linux; macOS ARM locally)
tensorflow-macos==2.15.*; platform_system == "Darwin" and platform_machine == "arm64"
tensorflow-cpu==2.15.*; platform_system != "Darwin" or platform_machine != "arm64"
